<div>
  <page-header title="警报管理">
    <a href="alerts/new" class="btn btn-default"><i class="fa fa-plus"></i> 添加</a>
  </page-header>

  <div class="container">
    <div class="bg-white">
      <table class="table table-condensed table-hover">
        <thead>
        <tr>
          <th class="sortable-column" ng-click="$ctrl.alerts.orderBy('name')">名称 <sort-icon column="'name'" sort-column="$ctrl.alerts.orderByField" reverse="$ctrl.alerts.orderByReverse"></sort-icon></th>
          <th class="sortable-column" ng-click="$ctrl.alerts.orderBy('created_by')">创建人 <sort-icon column="'created_by'" sort-column="$ctrl.alerts.orderByField" reverse="$ctrl.alerts.orderByReverse"></sort-icon></th>
          <th class="sortable-column" ng-click="$ctrl.alerts.orderBy('state')">状态 <sort-icon column="'state'" sort-column="$ctrl.alerts.orderByField" reverse="$ctrl.alerts.orderByReverse"></sort-icon></th>
          <th class="sortable-column" ng-click="$ctrl.alerts.orderBy('created_at')">创建时间 <sort-icon column="'created_at'" sort-column="$ctrl.alerts.orderByField" reverse="$ctrl.alerts.orderByReverse"></sort-icon></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="row in $ctrl.alerts.getPageRows()">
          <td><a href="alerts/{{row.id}}">{{row.name}}</a></td>
          <td>{{row.created_by}}</td>
          <td><span ng-class="row.class">{{row.state | uppercase}}</span> 自从 <span am-time-ago="row.updated_at"></span></td>
          <td><span am-time-ago="row.created_at"></span></td>
        </tr>
        </tbody>
      </table>
      <paginator paginator="$ctrl.alerts"></paginator>
    </div>
  </div>
</div>
